<div class="controller-section" ng-controller="Fabric.FeatureEditController">

  <div class="features fabric-page-header row-fluid">
      <div class="pull-left">
        <h2 class="inline">Edit {{profileId}} Features</h2>
      </div>
      <div class="pull-right">
        <a class="btn btn-success" href="" title="Back to main profile page" ng-click="gotoProfile(versionId, profileId)"><i class="icon-check"></i> Done</a>
        <a class="btn btn-primary" ng-disabled="deletingFeatures.length == 0 && addingFeatures.length == 0" href="" ng-click="save()"><i class="icon-save"></i> Save Changes</a>
      </div>
  </div>

  <div class="row-fluid edit-feature-lists">
    <div class="span6">

      <p ng-show="selectedRepoFeatures && selectedRepoFeatures.length > 0">
        <div class="features-toolbar">
          <div class="row-fluid">
            <div class="pull-left">
              <div class="section-filter">
                <input type="text" class="search-query" placeholder="Filter..." ng-model="featureGridOptions.filterOptions.filterText">
                <i class="icon-remove clickable" title="Clear filter" ng-click="featureGridOptions.filterOptions.filterText = ''"></i>
              </div>
            </div>
            <div class="pull-right">
              <a href="" class="btn" ng-click="addSelectedFeatures(false)" ng-disabled="selectedRepoSelectedFeatures.length == 0"><i class="icon-plus"></i> Add</a>
              <a href="" class="btn" ng-click="addSelectedFeatures(true)" ng-disabled="selectedRepoSelectedFeatures.length == 0"><i class="icon-plus"></i> Add With Version</a>
            </div>
          </div>
        </div>

        <div style="height: 450px" ng-grid="featureGridOptions"></div>
      </p>


    </div>

    <div class="span6">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Profile Features</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="feature in profileFeatures">
            <td ng-class="getClass(feature)">
              <span ng-class="getClass(feature)">{{feature.id}}</span>
              <span class="remove">
                <i ng-hide="feature.deleting" class="icon-remove clickable red" ng-click="removeFeature(feature)"></i>
                <i ng-show="feature.deleting" class="icon-plus clickable green" ng-click="removeFeature(feature)"></i>
              </span></td>
          </tr>
        </tbody>
      </table>

      <table class="table table-striped">
        <thead>
          <tr>
            <th>Inherited Features</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="feature in parentFeatures">
            <td>{{feature.id}}</td>
          </tr>
        </tbody>
      </table>

    </div>

  </div>

</div>
