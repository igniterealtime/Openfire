<div ng-controller="Wiki.ViewController">

  <script type="text/ng-template" id="fileCellTemplate.html">
    <div class="ngCellText"
         title="{{fileName(row.entity)}} - Last Modified: {{row.entity.lastModified | date:'medium'}}, Size: {{row.entity.length}}">
      <a href="{{childLink(row.entity)}}" class="file-name">
        <span class="file-icon"
              ng-class="fileClass(row.entity)"
              ng-bind-html-unsafe="fileIconHtml(row)">

              </span>{{fileName(row.entity)}}
      </a>
    </div>
  </script>

  <script type="text/ng-template" id="fileColumnTemplate.html">

    <div class="ngHeaderSortColumn {{col.headerClass}}"
         ng-style="{'cursor': col.cursor}"
         ng-class="{ 'ngSorted': !noSortVisible }">

      <div class="ngHeaderText" ng-hide="pageId === '/'">
        <a ng-href="{{parentLink()}}"
           class="wiki-file-list-up"
           title="Open the parent folder">
          <i class="icon-level-up"></i> Up a directory
        </a>
      </div>
    </div>

  </script>

  <ng-include src="'app/wiki/html/viewNavBar.html'"></ng-include>

  <div class="wiki-fixed form-horizontal">
    <div class="row-fluid">
      <div class="tocify" wiki-href-adjuster>
        <!-- TODO we maybe want a more flexible way to find the links to include than the current link-filter -->
        <div hawtio-toc-display get-contents="getContents(filename, cb)"
             html="html" link-filter="[file-extension]">
        </div>
      </div>
      <div class="toc-content" id="toc-content"></div>
    </div>
  </div>
</div>
